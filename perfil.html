<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil do Usuário</title>
    <link rel="icon" type="image/svg+xml" href="assets/icon/logo_topo.svg">
    <link rel="stylesheet" href="assets/style/perfil.css">
</head>
<body>
    <div class="profile-section">
        <header>
            <div class="header-buttons">
                <a href="#" onclick="voltarParaPaginaAnterior()" class="Btn">voltar</a>
                <div class="menu-container">
                    <button id="menuBtn" class="Btn icon-btn">
                        <img src="assets/icon/user-circle-gear.svg" alt="Menu" class="svg">
                    </button>
                    
                    <div id="popupMenu" class="popup-menu hidden">
                        <button class="menu-item" id="editProfileBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="menu-icon"><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>
                            Editar Perfil
                        </button>
                        <button class="menu-item" id="configBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="menu-icon"><path d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14s-6.5-9.2-12-9.2h-48.2c-7.9 0-15.4-3.3-20.7-9.1l-29.5-34c-4.8-5.6-12.3-8.1-19.6-6.6l-44.8 10.2c-21.7-16.7-46.2-28.6-72.9-34.8l-6.4-45.1c-1.1-7.7-7.2-13.6-14.9-13.6h-57.6c-7.7 0-13.9 5.9-14.9 13.6l-6.4 45.1c-26.7 6.2-51.2 18.1-72.9 34.8l-44.8-10.2c-7.3-1.7-14.8.9-19.6 6.6l-29.5 34c-5.3 6.1-12.8 9.1-20.7 9.1H13.2c-5.5 0-10.5 3.5-12 9.2s.6 11.2 5.5 14l42.6 24.6c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14s6.5 9.2 12 9.2h48.2c7.9 0 15.4 3.3 20.7 9.1l29.5 34c4.8 5.6 12.3 8.1 19.6 6.6l44.8-10.2c21.7 16.7 46.2 28.6 72.9 34.8l6.4 45.1c1.1 7.7 7.2 13.6 14.9 13.6h57.6c7.7 0 13.9-5.9 14.9-13.6l6.4 45.1c26.7-6.2 51.2-18.1 72.9-34.8l44.8 10.2c7.3 1.7 14.8-.9 19.6-6.6l29.5-34c5.3-6.1 12.8-9.1 20.7-9.1h48.2c5.5 0 10.5-3.5 12-9.2s-.6-11.2-5.5-14zM256 336c44.1 0 80-35.9 80-80s-35.9-80-80-80-80 35.9-80 80 35.9 80 80 80z"/></svg>
                            Configuração
                        </button>
                        <button class="menu-item" id="logoutBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="menu-icon"><path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"/></svg>
                            Sair
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="profile-container">
            <div class="profile-pic-wrapper">
                <img src="assets/icon/user icon.png" alt="Foto de perfil" id="profilePic">
            </div>
            <div class="profile-name">
                <h1 id="usernameDisplay">Carregando...</h1>
            </div>
        </div>
    </div>

    <div class="content-section">
        <section class="user-level-section">
            <div class="progress-bar-container">
                <progress id="userLevelBar" value="0" max="100"></progress>
            </div>
            <span id="progressLabel" class="progress-label">0%</span>
        </section>

        <main>
            <a href="atividades.html" class="activities-btn">Minhas atividades</a>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
    
    <script src="assets/script/database.js"></script>
    <script src="assets/script/utils.js"></script>
    
    <script src="assets/script/perfil.js"></script>
</body>
</html>